<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Study ZONE | Enrolment Request</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Segoe UI,Arial;background:#eef3ff;margin:0}
.container{max-width:720px;margin:20px auto;background:#fff;padding:20px;border-radius:8px}
label{font-weight:600;font-size:13px;margin-top:10px;display:block}
input,select,textarea{width:100%;padding:8px;margin-top:4px}
input[readonly]{background:#f3f5f8}
button{margin-top:18px;padding:10px;width:100%;background:#004aad;color:#fff;border:none}
</style>
</head>

<body>
<div class="container">
<h2>Enrolment Request</h2>

<form id="enrollForm">

<label>Member Type *</label>
<select id="memberType" name="Member Type" required>
  <option value="">Select</option>
  <option>First Time</option>
  <option>Existing Member</option>
</select>

<div id="fields" style="display:none">

<label>Full Name *</label>
<input name="Full Name" required>

<label>Mobile Number *</label>
<input name="Mobile Number" pattern="[0-9]{10}" maxlength="10" required>

<label>Email ID</label>
<input name="Email ID" type="email">

<label>Address *</label>
<textarea name="Address"></textarea>

<label>City *</label>
<input name="City">

<label>Exam Preparing for *</label>
<input name="Exam Preparing for" required>

<label>Preferred Branch *</label>
<select id="branch" name="Preferred Branch" required>
  <option value="">Select</option>
  <option>Dombivli East (MIDC)</option>
  <option>Dombivli West</option>
</select>

<label>Preferred Plan *</label>
<select id="plan" name="Preferred Plan" required>
  <option value="">Select</option>
  <option>Max Plan – Full Day</option>
  <option>Light Plan – Morning Slot</option>
  <option>Light Plan – Afternoon Slot</option>
  <option>Light Plan – Evening Slot</option>
  <option>Light flexi Plan - Morning + Afternoon Slot</option>
  <option>Light flexi Plan - Morning + Evening Slot</option>
  <option>Light flexi Plan - Afternoon + Evening Slot</option>
  <option>Weekend - Only Saturday & Sunday</option>
  <option>Mini Plan - Morning Slot</option>
  <option>Mini Plan - Evening Slot</option>
  <option>Single Day Plan - Full Day</option>
</select>

<label>Any specific requirement or message</label>
<textarea name="Any specific requirement or message"></textarea>

<label>Start Date *</label>
<input type="date" id="startDate" name="Start Date" required>

<label>No. of Days to Book *</label>
<input type="number" id="days" name="No. of Days to Book" required>

<label>End Date</label>
<input id="endDateDisplay" readonly>

<label>Estimated Cost</label>
<input id="estDisplay" readonly>

<label>Registration Fees</label>
<input id="regDisplay" readonly>

<label>Grand Estimated Cost</label>
<input id="grandDisplay" readonly>

<input type="hidden" name="Unit Price">
<input type="hidden" name="End Date">
<input type="hidden" name="Estimated Cost">
<input type="hidden" name="Registration Fees">
<input type="hidden" name="Grand Estimated Cost">

<button type="submit">Submit Subscription Request</button>
</div>
</form>
</div>

<script>
const pricing={
"Dombivli East (MIDC)|Max Plan – Full Day":94,
"Dombivli East (MIDC)|Light Plan – Morning Slot":54,
"Dombivli East (MIDC)|Light Plan – Afternoon Slot":54,
"Dombivli East (MIDC)|Light Plan – Evening Slot":54,
"Dombivli East (MIDC)|Light flexi Plan - Morning + Afternoon Slot":74,
"Dombivli East (MIDC)|Light flexi Plan - Morning + Evening Slot":74,
"Dombivli East (MIDC)|Light flexi Plan - Afternoon + Evening Slot":74,
"Dombivli East (MIDC)|Weekend - Only Saturday & Sunday":66.7,
"Dombivli East (MIDC)|Mini Plan - Morning Slot":40,
"Dombivli East (MIDC)|Mini Plan - Evening Slot":40,
"Dombivli East (MIDC)|Single Day Plan - Full Day":250,
"Dombivli West|Max Plan – Full Day":60,
"Dombivli West|Light Plan – Morning Slot":40,
"Dombivli West|Light Plan – Afternoon Slot":40,
"Dombivli West|Light Plan – Evening Slot":40,
"Dombivli West|Light flexi Plan - Morning + Afternoon Slot":50,
"Dombivli West|Light flexi Plan - Morning + Evening Slot":50,
"Dombivli West|Light flexi Plan - Afternoon + Evening Slot":50,
"Dombivli West|Weekend - Only Saturday & Sunday":42.7,
"Dombivli West|Mini Plan - Morning Slot":25,
"Dombivli West|Mini Plan - Evening Slot":25,
"Dombivli West|Single Day Plan - Full Day":150
};

memberType.onchange=()=>fields.style.display=memberType.value?"block":"none";
startDate.min=new Date().toISOString().split("T")[0];

["branch","plan","days","startDate","memberType"].forEach(id=>{
 document.getElementById(id).onchange=calc;
});

function calc(){
 if(!branch.value||!plan.value||!days.value||!startDate.value)return;
 const d=+days.value;
 if(plan.value.includes("Weekend")&&d%30!==0){alert("Weekend plan must be multiple of 30");return;}
 if(!plan.value.includes("Weekend")&&!plan.value.includes("Single Day")&&d<8){alert("Minimum 8 days required");return;}

 const price=pricing[`${branch.value}|${plan.value}`];
 const s=new Date(startDate.value);const e=new Date(s);e.setDate(s.getDate()+d-1);
 const est=price*d;const reg=memberType.value==="First Time"?175:0;

 endDateDisplay.value=e.toISOString().split("T")[0];
 estDisplay.value=est;
 regDisplay.value=reg;
 grandDisplay.value=est+reg;

 enrollForm["Unit Price"].value=price;
 enrollForm["End Date"].value=endDateDisplay.value;
 enrollForm["Estimated Cost"].value=est;
 enrollForm["Registration Fees"].value=reg;
 enrollForm["Grand Estimated Cost"].value=est+reg;
}

enrollForm.onsubmit=e=>{
 e.preventDefault();
 fetch("YOUR_DEPLOYED_SCRIPT_URL",{method:"POST",body:new FormData(enrollForm)})
 .then(()=>alert("Enrolment submitted successfully"));
};
</script>
</body>
</html>
